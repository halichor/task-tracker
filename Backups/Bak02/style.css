/* Hide auth and app containers by default to prevent flicker on load */
#auth, #app {
  display: none;
}
/* Ensure dark mode applies to #app as well as body */
[data-theme="dark"], #app[data-theme="dark"] {
    background: var(--color-bg) !important;
    color: var(--color-text) !important;
}

/* Login password eye icon positioning */
#auth .position-relative {
    position: relative;
}
#login-password-eye {
    z-index: 10;
    border-radius: 50%;
    padding: 0.25rem 0.5rem;
    line-height: 1;
}
/* Bootstrap Icons for dark mode toggle (if not loaded elsewhere) */
@import url('https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css');


/* === PALETTE & THEME SYSTEM === */
/* All color roles use these variables. Set by [data-theme][data-palette] selectors below. */
:root {
    --color-bg: #f8f9fa;
    --color-surface: #fff;
    --color-surface-alt: #f1f8ff;
    --color-border: #ddd;
    --color-primary: #0d6efd;
    --color-primary-bg: #e7f1ff;
    --color-text: #212529;
    --color-danger: #dc3545;
    --color-success: #198754;
    --color-warning: #ffc107;
    --color-muted: #6c757d;
}

/* --- BLUE (default) --- */
[data-theme="light"][data-palette="blu"] {
    --color-bg: #f8f9fa;
    --color-surface: #fff;
    --color-surface-alt: #f1f8ff;
    --color-border: #ddd;
    --color-primary: #0d6efd;
    --color-primary-bg: #e7f1ff;
    --color-text: #212529;
    --color-danger: #dc3545;
    --color-success: #198754;
    --color-warning: #ffc107;
    --color-muted: #6c757d;
}
[data-theme="dark"][data-palette="blu"] {
    --color-bg: #181a1b;
    --color-surface: #23272b;
    --color-surface-alt: #222b36;
    --color-border: #333a40;
    --color-primary: #66aaff;
    --color-primary-bg: #1a2636;
    --color-text: #f1f3f4;
    --color-danger: #ff6b81;
    --color-success: #4dd599;
    --color-warning: #ffd166;
    --color-muted: #b0b3b8;
}

/* --- PINK --- */
[data-theme="light"][data-palette="pnk"] {
    --color-bg: #fff0f6;
    --color-surface: #fff;
    --color-surface-alt: #ffe0ef;
    --color-border: #f8bbd0;
    --color-primary: #e83e8c;
    --color-primary-bg: #ffe0ef;
    --color-text: #3a2233;
    --color-danger: #c2185b;
    --color-success: #ad1457;
    --color-warning: #ffb6b9;
    --color-muted: #b48ca7;
}
[data-theme="dark"][data-palette="pnk"] {
    --color-bg: #2a1823;
    --color-surface: #3a2233;
    --color-surface-alt: #4a2940;
    --color-border: #b48ca7;
    --color-primary: #ff7eb9;
    --color-primary-bg: #3a2233;
    --color-text: #fff0f6;
    --color-danger: #ff6b81;
    --color-success: #ffb6b9;
    --color-warning: #ffd6e0;
    --color-muted: #e0b3c2;
}

/* --- ORANGE --- */
[data-theme="light"][data-palette="org"] {
    --color-bg: #fff7ed;
    --color-surface: #fff;
    --color-surface-alt: #fff3e0;
    --color-border: #ffd8b2;
    --color-primary: #fd7e14;
    --color-primary-bg: #fff3e0;
    --color-text: #3a2a1a;
    --color-danger: #e65100;
    --color-success: #ff9800;
    --color-warning: #ffd166;
    --color-muted: #bfa380;
}
[data-theme="dark"][data-palette="org"] {
    --color-bg: #2a1a0a;
    --color-surface: #3a2a1a;
    --color-surface-alt: #4a391a;
    --color-border: #bfa380;
    --color-primary: #ffb366;
    --color-primary-bg: #3a2a1a;
    --color-text: #fff7ed;
    --color-danger: #ff7043;
    --color-success: #ffd166;
    --color-warning: #ffe0b2;
    --color-muted: #e0c3a2;
}

/* --- YELLOW --- */
[data-theme="light"][data-palette="ylw"] {
    --color-bg: #fffbe6;
    --color-surface: #fff;
    --color-surface-alt: #fffde7;
    --color-border: #ffe082;
    --color-primary: #ffc107;
    --color-primary-bg: #fffde7;
    --color-text: #3a3200;
    --color-danger: #ff9800;
    --color-success: #ffd600;
    --color-warning: #ffe082;
    --color-muted: #bfae80;
}
[data-theme="dark"][data-palette="ylw"] {
    --color-bg: #2a2500;
    --color-surface: #3a3200;
    --color-surface-alt: #4a3a00;
    --color-border: #bfae80;
    --color-primary: #ffe066;
    --color-primary-bg: #3a3200;
    --color-text: #fffbe6;
    --color-danger: #ffb300;
    --color-success: #ffe082;
    --color-warning: #fff9c4;
    --color-muted: #e0d3a2;
}

/* --- PURPLE --- */
[data-theme="light"][data-palette="prp"] {
    --color-bg: #f3e8ff;
    --color-surface: #fff;
    --color-surface-alt: #ede7f6;
    --color-border: #d1b3ff;
    --color-primary: #6f42c1;
    --color-primary-bg: #ede7f6;
    --color-text: #2a1a3a;
    --color-danger: #8e24aa;
    --color-success: #7c43bd;
    --color-warning: #b39ddb;
    --color-muted: #a18ab7;
}
[data-theme="dark"][data-palette="prp"] {
    --color-bg: #1a102a;
    --color-surface: #2a1a3a;
    --color-surface-alt: #3a2a4a;
    --color-border: #a18ab7;
    --color-primary: #b388ff;
    --color-primary-bg: #2a1a3a;
    --color-text: #f3e8ff;
    --color-danger: #ea80fc;
    --color-success: #b39ddb;
    --color-warning: #ede7f6;
    --color-muted: #d1b3ff;
}

/* --- GREEN --- */
[data-theme="light"][data-palette="grn"] {
    --color-bg: #f0fff4;
    --color-surface: #fff;
    --color-surface-alt: #e0ffe0;
    --color-border: #b2f2bb;
    --color-primary: #28a745;
    --color-primary-bg: #e0ffe0;
    --color-text: #1a3a2a;
    --color-danger: #388e3c;
    --color-success: #43a047;
    --color-warning: #b2f2bb;
    --color-muted: #80bfa3;
}
[data-theme="dark"][data-palette="grn"] {
    --color-bg: #102a1a;
    --color-surface: #1a3a2a;
    --color-surface-alt: #2a4a3a;
    --color-border: #80bfa3;
    --color-primary: #7cffb2;
    --color-primary-bg: #1a3a2a;
    --color-text: #f0fff4;
    --color-danger: #b9f6ca;
    --color-success: #b2f2bb;
    --color-warning: #e0ffe0;
    --color-muted: #b2f2bb;
}

body {
    padding: 1rem;
    background: var(--color-bg);
    color: var(--color-text);
}

 #app {
     display: none;
 }

 .task-item {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: 0.3rem;
     padding: 0.3rem 0.5rem;
     background: var(--color-surface);
     border-radius: 4px;
     box-shadow: 0 0 3px var(--color-border);
 }

 .task-item input[type="text"],
 .task-item select {
     border: none;
     background: transparent;
     width: auto;
     min-width: 60px;
 }

 .task-item input[type="text"]:focus,
 .task-item select:focus {
     outline: 1px solid var(--color-primary);
     background: var(--color-primary-bg);
 }

 .nav-link.disabled {
     cursor: not-allowed;
 }

 .task-edit-icons {
     display: flex;
     gap: 0.3rem;
     margin-left: 0.5rem;
 }

 .task-checkbox {
     margin-right: 0.5rem;
 }

 .task-item.edit-mode {
     background: var(--color-surface-alt);

 }

 th {
     position: relative;
 }

/* --- Search Box Clear Button (inside input) --- */
.search-clear-inside {
    border-radius: 0.375rem;
    background: var(--color-surface-alt);
    color: var(--color-primary);
    border: none;
    padding: 0.25rem 0.75rem;
    font-size: 0.95em;
    height: 2rem;
    line-height: 1;
    transition: background 0.2s, color 0.2s;
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}
.search-clear-inside:hover {
    background: var(--color-primary-bg);
    color: var(--color-primary);
}