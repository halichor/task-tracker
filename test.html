<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Task Manager with Users & Admin</title>

    <!-- ===== Scripts ===== -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap.min.css"
        rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body>

    <!-- ===== Login Screen ===== -->

    <!-- #region ===== Main App ===== -->
    <div class="container">

        <!-- Sidebar : Desktop -->
        <div id="sidebar-desktop">
            <ul class="nav nav-tabs" id="main-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="today-tab" data-bs-toggle="tab" data-bs-target="#today"
                        type="button" role="tab">Today</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="archive-tab" data-bs-toggle="tab" data-bs-target="#archive"
                        type="button" role="tab">Archive</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="view-users-tab" data-bs-toggle="tab" data-bs-target="#view-users"
                        type="button" role="tab">View Tasks</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings"
                        type="button" role="tab">Settings</button>
                </li>
            </ul>
        </div>

        <!-- Sidebar : Off-canvas (Mobile) -->
        <button class="d-md-none" id="menu-btn" type="button">MENU</button>
        <div class="d-md-none" id="sidebar-mobile"
            style="display:none; position:fixed; top:0; left:0; width:70vw; height:100vh; background:#fff; z-index:1050; box-shadow:2px 0 8px #0002;">
            <div style="padding:1rem;">
                <button id="close-sidebar" type="button">Close</button>
                <div>Sidebar</div>
                <a href="#">Link 1</a><br>
                <a href="#">Link 2</a><br>
                <a href="#">Link 3</a>
            </div>
        </div>

        <!-- Main App Body -->
        <div class="tab-content" id="main-tabs-content">
            <div class="tab-pane fade show active" id="today" role="tabpanel" aria-labelledby="today-tab">1</div>
            <div class="tab-pane fade" id="archive" role="tabpanel" aria-labelledby="archive-tab">2</div>
            <div class="tab-pane fade" id="view-users" role="tabpanel" aria-labelledby="view-users-tab">3</div>
            <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">4</div>
        </div>
        <!-- #endregion -->

        <!-- #region ===== Modals ===== -->

        <!-- Confirmation Modal -->
        <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmModalLabel">Please Confirm</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="confirmModalBody">
                        <!-- Message goes here -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="confirmModalCancel"
                            data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="confirmModalOk">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alert Modal -->
        <div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="alertModalLabel">Alert</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="alertModalBody"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="alertModalOk"
                            data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirm Modal -->
        <div id="confirm-modal" class="modal" tabindex="-1" style="display:none;">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Please Confirm</h5>
                    </div>
                    <div class="modal-body">
                        <p id="confirm-modal-message"></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="confirm-modal-cancel-btn" class="btn btn-secondary">Cancel</button>
                        <button type="button" id="confirm-modal-ok-btn" class="btn btn-primary">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Prompt Modal -->
        <div id="prompt-modal" class="modal" tabindex="-1" style="display:none;">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Input Required</h5>
                    </div>
                    <div class="modal-body">
                        <p id="prompt-modal-message"></p>
                        <input type="text" id="prompt-modal-input" class="form-control" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="prompt-modal-cancel-btn" class="btn btn-secondary">Cancel</button>
                        <button type="button" id="prompt-modal-ok-btn" class="btn btn-primary">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Global Spinner Indicator -->
        <div id="global-spinner-indicator"
            style="position:fixed;bottom:16px;left:50%;transform:translateX(-50%);z-index:2000;display:none;">
            <div class="d-flex align-items-center bg-light border rounded px-3 py-2 shadow">
                <div class="spinner-border text-primary me-2" role="status" style="width:1.5rem;height:1.5rem;">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <span id="global-spinner-text">Loading...</span>
            </div>
        </div>

        <!-- Bootstrap Toast for notifications -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 2100">
            <div id="global-toast" class="toast align-items-center text-bg-primary border-0" role="alert"
                aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                    <div class="toast-body" id="global-toast-body">
                        Done!
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
                </div>
            </div>
        </div>
        <!-- #endregion -->

        <!-- #region ===== Scripts ===== -->

        <!-- Prereq Script -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

        <!-- Firebase App (the core Firebase SDK) -->
        <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
        <!-- Firebase Firestore (the database) -->
        <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
        <script>
            // Your Firebase config
            const firebaseConfig = {
                apiKey: "AIzaSyCkaLhIvt_Plf8h4B1ImxDN-e3pg_tABD0",
                authDomain: "task-tracker-c3fd6.firebaseapp.com",
                projectId: "task-tracker-c3fd6",
                storageBucket: "task-tracker-c3fd6.firebasestorage.app",
                messagingSenderId: "946848839661",
                appId: "1:946848839661:web:37486cc58c1e14a63059e4",
                measurementId: "G-CDG3DWTF93"
            };
            firebase.initializeApp(firebaseConfig);
            window.db = firebase.firestore();
        </script>

        <!-- Main Script -->
        <!-- <script src="script.js"></script> -->

        <!-- Sidebar Offcanvas Toggle -->
        <script>
            document.getElementById('menu-btn').onclick = function () {
                document.getElementById('sidebar-mobile').style.display = 'block';
            };
            document.getElementById('close-sidebar').onclick = function () {
                document.getElementById('sidebar-mobile').style.display = 'none';
            };
        </script>
        <!-- #endregion -->

    </div>

</body>

</html>